{% extends "layout.njk" %}

{% block head %}
    <title>Conteúdos</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
{% endblock %}

{% block content %}
  <div id="wrapper">
    <h1>Conteúdos</h1>
  </div>

  <section class="cards">
    <div class="card" id="substituindo-a-instrucao-switch-por-object-literal">
      <div class="card__image-container">
        <img src="https://blog.rocketseat.com.br/content/images/2020/09/substituindo-a-instrucao-switch-por-object-literal-rocketseat-1.png" alt="Vídeo Aula">
      </div>
      <div class="card__content">
        <p>Substituindo a instrução switch por Object Literal</p>
        <br>
        <p>Author: Thiago Marinho</p>
      </div>
      <div class="card__info">
        <p>Leitura:</p>
        <p>2 min</p>
      </div>
    </div>

    <div class="card" id="es11-novas-features-do-javascript">
      <div class="card__image-container">
        <img src="https://blog.rocketseat.com.br/content/images/2020/09/es11-novas-features-do-javascript.png" alt="Vídeo Aula">
      </div>
      <div class="card__content">
        <p>ES11 - Novas features do JavaScript</p>
        <br>
        <p>Author: Thiago Marinho</p>
      </div>
      <div class="card__info">
        <p>Leitura:</p>
        <p>8 min</p>
      </div>
    </div>

    <div class="card" id="o-que-e-readme-e-porque-e-tao-importante">
      <div class="card__image-container">
        <img src="https://blog.rocketseat.com.br/content/images/2020/07/o-que-e-readme.png" alt="Vídeo Aula">
      </div>
      <div class="card__content">
        <p>O que é README e porque é tão importante</p>
        <br>
        <p>Author: Thiago Marinho</p>
      </div>
      <div class="card__info">
        <p>Leitura:</p>
        <p>4 min</p>
      </div>
    </div>

  </section>

  <div class="modal-overlay">
    <div class="modal">
      <a class="close-modal">
        <i class="material-icons">close</i>
      </a>
      <div class="modal-content">
        <iframe src="" frameborder="0"></iframe>
      </div>
    </div>
  </div>

  <script>
    const modalOverlay = document.querySelector('.modal-overlay');
    const cards = document.querySelectorAll('.card');

    for (let card of cards) {
      card.addEventListener("click", function(){
        const slugId = card.getAttribute('id');
        modalOverlay.classList.add('active');
        modalOverlay.querySelector("iframe").src = `https://blog.rocketseat.com.br/${slugId}`
      })
    }

    document.querySelector(".close-modal").addEventListener("click", function() {
      modalOverlay.classList.remove('active');
      modalOverlay.querySelector("iframe").src = "";
    })
  </script>
{% endblock %}